<!--
  ~ Copyright  2021 LSD Information Technology (Pty) Ltd
  ~
  ~    Licensed under the Apache License, Version 2.0 (the "License");
  ~    you may not use this file except in compliance with the License.
  ~    You may obtain a copy of the License at
  ~
  ~        http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~    Unless required by applicable law or agreed to in writing, software
  ~    distributed under the License is distributed on an "AS IS" BASIS,
  ~    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~    See the License for the specific language governing permissions and
  ~    limitations under the License.
  -->

<div class="p-fluid">
  <div class="p-col-12 p-md-5">
    <button pButton pRipple icon="pi pi-plus" class="p-button-rounded p-button-plain p-mr-2" (click)="addVolume()"></button>
    <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-warning" (click)="deleteVolume()"></button>
  </div>

  <div *ngIf="volumes && volumes.length > 0" class="p-col-12">
    <p-tabView orientation="left" [(activeIndex)]="selectedVolumeIndex">
      <p-tabPanel [header]="volume.name ? volume.name : '<new>'"
                  *ngFor="let volume of volumes; let volumeIndex = index" [selected]="volumeIndex == 0">

        <app-application-volume-detail [volume]="volume" [volumeIndex]="volumeIndex" [secrets]="secrets">
        </app-application-volume-detail>

      </p-tabPanel>
    </p-tabView>
  </div>
</div>
